<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="WhatTheySaid.News - Accountability Through Quotes">
  <meta name="theme-color" content="#ffffff">
  <link rel="manifest" href="/manifest.json">
  <title>WhatTheySaid.News</title>
  <link rel="stylesheet" href="/css/styles.css">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8204858761090995"
       crossorigin="anonymous"></script>
</head>
<body>
  <div id="app">
    <header>
      <div class="date-ribbon">
        <span id="date-ribbon-text"></span>
      </div>
      <nav>
        <div class="logo-group">
          <a href="/" class="logo" onclick="navigate(event, '/')">WhatTheySaid.News</a>
          <span class="logo-subhead">Accountability Through Quotes</span>
        </div>
        <div class="header-search">
          <input type="search" id="header-search-input" placeholder="Search quotes, authors, topics..." class="search-input" onkeydown="if(event.key==='Enter')doHeaderSearch()">
          <button class="search-btn" onclick="doHeaderSearch()" aria-label="Search">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/>
            </svg>
          </button>
        </div>
        <div class="nav-links">
          <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle dark mode" title="Toggle dark mode">
            <svg class="theme-icon-light" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="5"/><path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
            </svg>
            <svg class="theme-icon-dark" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
            </svg>
          </button>
          <a href="/" onclick="navigate(event, '/')">Home</a>
          <a href="/analytics" id="nav-analytics" onclick="navigate(event, '/analytics')">Analytics</a>
          <a href="/review" id="nav-review" onclick="navigate(event, '/review')" class="nav-link-review" style="display: none;">
            Review
            <span class="review-badge" id="review-badge" style="display: none;">0</span>
          </a>
          <a href="/settings" id="nav-settings" onclick="navigate(event, '/settings')" style="display: none;">Settings</a>
          <a href="/login" id="nav-login" onclick="navigate(event, '/login')" style="display: none;">Login</a>
          <a href="#" id="nav-logout" onclick="logout(event)" style="display: none;">Logout</a>
        </div>
      </nav>
    </header>

    <main id="content">
      <!-- Content loaded by JS router -->
      <div class="loading">Loading...</div>
    </main>

    <!-- AdSense footer ad (public pages only) -->
    <div id="ad-container" class="ad-container" style="display: none;">
      <ins class="adsbygoogle"
           style="display:block"
           data-ad-client="ca-pub-8204858761090995"
           data-ad-slot=""
           data-ad-format="horizontal"
           data-full-width-responsive="true"></ins>
    </div>

    <footer>
      <div class="footer-inner">
        <div class="footer-brand">
          <span class="footer-logo">WhatTheySaid.News</span>
          <span class="footer-tagline">Accountability Through Quotes</span>
        </div>
        <div class="footer-links">
          <a href="/" onclick="navigate(event, '/')">Home</a>
          <a href="/login" onclick="navigate(event, '/login')">Admin</a>
        </div>
        <div class="footer-copyright">
          &copy; 2026 WhatTheySaid.News / GGM, LLC.
        </div>
      </div>
    </footer>
  </div>

  <!-- Modal for log details -->
  <div id="modal-overlay" class="modal-overlay hidden" onclick="if(event.target===this)closeModal()">
    <div class="modal">
      <button class="modal-close" onclick="closeModal()">&times;</button>
      <div id="modal-content"></div>
    </div>
  </div>

  <!-- Socket.IO for real-time updates -->
  <script src="/socket.io/socket.io.js"></script>

  <!-- Chart.js for analytics visualizations -->
  <script defer src="https://cdn.jsdelivr.net/npm/chart.js@4/dist/chart.umd.min.js"></script>

  <script src="/js/api.js"></script>
  <script src="/js/vote.js"></script>
  <script src="/js/charts.js"></script>
  <script src="/js/analytics.js"></script>
  <script src="/js/home.js"></script>
  <script src="/js/quote.js"></script>
  <script src="/js/article.js"></script>
  <script src="/js/author.js"></script>
  <script src="/js/settings.js"></script>
  <script src="/js/review.js"></script>
  <script src="/js/logs.js"></script>
  <script src="/js/login.js"></script>
  <script src="/js/resetPassword.js"></script>
  <script src="/js/app.js"></script>

  <script>
    function doHeaderSearch() {
      const input = document.getElementById('header-search-input');
      const query = input.value.trim();
      if (query.length >= 2) {
        navigate(null, '/?search=' + encodeURIComponent(query));
      }
    }
  </script>
</body>
</html>
